package gen

import (
	. "github.com/rah-0/hyperion/util"
)

func templateEntity(s StructDef) string {
	template := "package " + s.Name + "\n"
	template += "// The code in this file is autogenerated, do not modify manually!" + "\n\n"

	template += "import (\n"
	template += `"encoding/gob"` + "\n"
	template += ")\n"

	template += "func init(){\n"
	template += "gob.Register(" + s.Name + "{})\n"
	template += "}\n"

	template += "type " + s.Name + " struct {\n"
	for _, f := range s.Fields {
		template += f.Name + " " + f.Type + "\n"
	}
	template += "}\n"

	return template
}
